<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" media="screen">
	<title>Java控制鼠标键盘操作</title>
</head>
<body>
	<header>
		<div class="container">
			<h1><a style="text-decoration: none; color:#eaeaea;" href="../index.html">无忧无虑</a></h1>
		</div>
	</header>
	<!--script type="text/javascript" src="js/changebkg.js"></script-->
	<div class="container">
		<section id="main_content">

<h3>Java实现截屏</h3>

<p>Java JDK1.4 的Robot对象可以完成对"屏幕"像素的拷贝,完成屏幕图像截取操作。Java应用程序中可以直接调用此对象，完成对特定应用程序的屏幕截取。</p>
<p>在Java JDK1.4 中提供的"机器人"Robot类用于产生与本地操作系统有关的底层输入、测试应用程序运行或自动控制应用程序运行。Robot类提供了一个方法：createScreenCapture（..）,可以直接将全屏幕或某个屏幕区域的像素拷贝到一个BufferedImage对象中，我们只需要将该对象写入到一个图像文件之中，就完成了屏幕到图像的拷贝过程。</p>
<p>ScreenDemo类的generateSnapshot()方法用于实现对当前屏幕的截取。</p>

<pre><code><span style="color: #0000FF; ">import</span>&nbsp;java.awt.Rectangle;
<span style="color: #0000FF; ">import</span>&nbsp;java.awt.Robot;
<span style="color: #0000FF; ">import</span>&nbsp;java.awt.Toolkit;
<span style="color: #0000FF; ">import</span>&nbsp;java.awt.image.BufferedImage;
<span style="color: #0000FF; ">import</span>&nbsp;java.io.File;
<span style="color: #0000FF; ">import</span>&nbsp;javax.imageio.ImageIO;


<span style="color: #0000FF; ">public</span>&nbsp;<span style="color: #0000FF; ">class</span>&nbsp;ScreenDemo&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000FF; ">public</span>&nbsp;<span style="color: #0000FF; ">static</span>&nbsp;File&nbsp;generateSnapshot()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;snapshotFile&nbsp;=&nbsp;<span style="color: #0000FF; ">new</span>&nbsp;File("D:/"&nbsp;+&nbsp;System.currentTimeMillis()&nbsp;+&nbsp;".jpg");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000FF; ">int</span>&nbsp;width&nbsp;=&nbsp;(<span style="color: #0000FF; ">int</span>)&nbsp;Toolkit.getDefaultToolkit().getScreenSize().getWidth();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000FF; ">int</span>&nbsp;height&nbsp;=&nbsp;(<span style="color: #0000FF; ">int</span>)&nbsp;Toolkit.getDefaultToolkit().getScreenSize().getHeight();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000FF; ">try</span>&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Robot&nbsp;robot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;robot&nbsp;=&nbsp;<span style="color: #0000FF; ">new</span>&nbsp;Robot();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferedImage&nbsp;image&nbsp;=&nbsp;robot.createScreenCapture(<span style="color: #0000FF; ">new</span>&nbsp;Rectangle(width,&nbsp;height));&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ImageIO.write(image,&nbsp;"jpg",&nbsp;snapshotFile);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #0000FF; ">catch</span>&nbsp;(Exception&nbsp;e)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000FF; ">return</span>&nbsp;snapshotFile;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000FF; ">public</span>&nbsp;<span style="color: #0000FF; ">static</span>&nbsp;<span style="color: #0000FF; ">void</span>&nbsp;main(String[]&nbsp;args)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generateSnapshot();
&nbsp;&nbsp;&nbsp;&nbsp;}
}</code></pre>

		</section>
	</div>
</body>
</html>